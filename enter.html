<!doctype html>
<html lang="en">
  <head>
    <script>
      if (window === window.top) {
        window.location.replace("index.html?page=enter.html");
      }
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>For Priya</title>
    <style type="text/css">
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        background: #ffb6c1;
        font-family: "Courier New", Courier, monospace;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .heart-link {
        display: block;
        text-decoration: none;
        color: inherit;
        cursor: pointer;
      }
      .heart-link:hover .heart-text {
        text-decoration: underline;
      }
      .heart-wrapper {
        position: relative;
        display: inline-block;
      }
      .heart-icon {
        width: 140px;
        height: 140px;
        transform-origin: center;
      }
      .heart-link:hover .heart-icon {
        animation: heartbeat 0.9s ease-in-out infinite;
      }
      @keyframes heartbeat {
        0%, 100% { transform: scale(1); }
        15% { transform: scale(1.12); }
        30% { transform: scale(1); }
        45% { transform: scale(1.12); }
        60% { transform: scale(1); }
      }
      .heart-text {
        position: absolute;
        top: 43.5%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-family: "Courier New", Courier, monospace;
        font-size: 1.2rem;
        font-weight: 600;
        color: #000;
        white-space: nowrap;
      }
      .grid-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-template-rows: repeat(10, 1fr);
        z-index: 0;
        pointer-events: none;
      }
      .grid-cell {
        font-family: "Courier New", Courier, monospace;
        font-size: clamp(8px, 2vw, 14px);
        color: rgba(0, 0, 0, 0.25);
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 2px;
      }
      .heart-link {
        position: relative;
        z-index: 1;
      }
    </style>
  </head>
  <body data-translate-page="enter">
    <script src="translations.js"></script>
    <script src="translate.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (window.applyTranslations) applyTranslations();
      });
    </script>
    <div class="grid-background" id="love-grid"></div>
    <a href="wait.html" class="heart-link">
      <div class="heart-wrapper">
        <svg class="heart-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path fill="none" stroke="#000" stroke-width="2" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
        <span class="heart-text" data-t="click">Click</span>
      </div>
    </a>
    <script>
      (function () {
        var grid = document.getElementById("love-grid");
        var cells = [];
        var index = 0;
        var intervalId = null;

        for (var i = 0; i < 100; i++) {
          var cell = document.createElement("div");
          cell.className = "grid-cell";
          grid.appendChild(cell);
          cells.push(cell);
        }

        function fillNext() {
          if (index < 100) {
            var txt = "I love you";
            if (window.TRANSLATIONS && window.TRANSLATIONS.enter && window.getLang) {
              txt = (window.getLang() === "fr" && window.TRANSLATIONS.enter.i_love_you.fr)
                ? window.TRANSLATIONS.enter.i_love_you.fr
                : window.TRANSLATIONS.enter.i_love_you.en;
            }
            cells[index].textContent = txt;
            index++;
          } else {
            clearInterval(intervalId);
            intervalId = null;
          }
        }

        function start() {
          if (intervalId) return;
          intervalId = setInterval(fillNext, 150);
        }

        function stop() {
          if (intervalId) {
            clearInterval(intervalId);
            intervalId = null;
          }
        }

        function reset() {
          stop();
          index = 0;
          cells.forEach(function (c) {
            c.textContent = "";
          });
        }

        var link = document.querySelector(".heart-link");
        link.addEventListener("mouseenter", start);
        link.addEventListener("mouseleave", stop);

        window.addEventListener("pageshow", function (e) {
          if (e.persisted) reset();
        });
      })();
    </script>
  </body>
</html>
